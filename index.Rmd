---
title: "Experimental Linguistics with IBEX"
subtitle: "A Walkthrough"  
author: 
  - ""
date: '`r Sys.Date()`'
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: xaringan-themer.css
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r setup, include=FALSE}
### Ibex - https://spellout.net/ibexexps/skku_ibex/workshop_example/experiment.html
# ID: skku_ibex
# PW: 2021workshop

options(htmltools.dir.version = FALSE)
library(icon)
```

```{r xaringan-themer, include=FALSE, warning=FALSE}
library(xaringanthemer)
style_duo_accent(
  primary_color = "#011F5b",
  secondary_color = "#990000",
  inverse_header_color = "#FFFFFF"
)
```


```{css, echo = FALSE}
/*-- 3 column layout --*/
.left-col {
  width: 29%;
  text-align: left;
  padding-left: 20px;
  padding-right: 20px;
  float: left;
}

.center-col {
  width: 29%;
  text-align: left;
  padding-left: 20px;
  padding-right: 20px;
  float: left;
}

.right-col {
  width: 29%;
  text-align: left;
  padding-left: 20px;
  padding-right: 20px;
  float: left;
}

/* five-column layout */

/*.flex {
  display: flex;
  justify-content: center;
  align-items: flex-start;
}
.column {
  float: left;
  width: 25%;
  text-align: center;
}*/

/*.columns { display: flex; }*/

.pull-left {
  padding-top: 0px;
}

.pull-left-narrow {
  float: left;
  width: 20%;
}

.pull-right-wide {
  float: right;
  width: 75%;
}

/* Clear floats after the columns */
.pull-right-wide + * { clear: both; }

/*-- CUSTOM CLASSES FOR EDUCATIONAL PURPOSES ---------------------------------*/

/* Pull */
.pull-left-color {
  float: left;
  width: 47%;
  background-color: var(--my-pink);
}

.pull-right-color {
  float: right: 47%;
}

/* Two-column layout */
.left-column-color {
  background-color: var(--my-coral);
  width: 20%;
  height: 92%;
  float: left;
}
.left-column-color h2:last-of-type, .left-column h3:last-child {
  color: #000;
}
.right-column-color {
  background-color: var(--my-pink);
  width: 75%;
  float: right;
  padding-top: 1em;
}
```

# Presentation Outline

.pull-left-narrow[.center[
  <img src="https://upload.wikimedia.org/wikipedia/commons/3/3c/Capra_ibex_ibex_%E2%80%93_04.jpg" width="150px"/>
]]

.pull-right-wide[.middle[]
  Introduction to [IBEX](https://spellout.net/ibexfarm)
  - Basic ideas
  - Navigating the platform
]

--

.pull-left-narrow[.center[
  &nbsp;
  `r icon_style(fontawesome("code", style = "solid"), scale = 4, fill = "#006747")`
]]

.pull-right-wide[
  Scripting an experiment
  - Overview of critical components
  - Code walkthrough
]

--

.pull-left-narrow[.center[
  &nbsp;
  `r icon_style(fontawesome("file", style = "solid"), scale = 4, fill = "#768692")`
]]

.pull-right-wide[
  Data Analysis
  - Understanding the output format
  - Importing into R
]

---

class: middle, center

# Introduction to IBEX

---

# What is IBEX?

- <p>Stands for (I)nternet-(B)ased (EX)periments</p>

--

- <strong style="color:#006747;">DOES</strong>:

--

    - Host experiments with webpage links
--

    - Log user interactions
--

    - Store data on a secure server

--

- **DOES NOT**:

--

    - Recruit participants (_see_ Amazon Mechanical Turk)
--

    - Provide an analysis of the results (_see_ R, Python) 


---

# Where does IBEX fit?

```{r, echo = FALSE, fig.align='center', out.width="450px"}
knitr::include_graphics("img/workflow_abstract.jpg")
```

---

# Where does IBEX fit?

```{r, echo = FALSE, fig.align='center', out.width="450px"}
knitr::include_graphics("img/workflow_tools.png")
```

---

# Navigating IBEX

- <p>Go to <a href='https://spellout.net/ibexfarm'>https://spellout.net/ibexfarm</a> </p>

- Click <strong style='color:#006295'>create an account</strong> (or <strong style='color:#006295'>log in</strong>)

- Click <strong style='color:#006295'>manage my experiments</strong>

- Click <strong style='color:#006295'>Create a new experiment</strong>

- Give it a unique name like "_workshop_example_"

- Done!

```{r, echo = FALSE, fig.align='center', out.width="500px", out.extra='style="border:2px solid black; margin:auto; display:block;margin-top:30px"'}
knitr::include_graphics("img/create_exp.png")
```

---

# Navigating IBEX

<video controls width="800" height="500">
<source src="vid/ibex_login.mp4" type="video/mp4">
</video>

---

<h1 style='margin-bottom:0px'>Experiment file structure</h1>

.pull-left[

**chunk_includes**
- Stand-alone files go here

**css_includes**
- Style specifications go here

**data_includes**
- Experiment scripts go here

**js_includes**
- Modules ("controllers") go here

**results** & **server_state**
- Automatically generated/updated

]


.pull-right[
```{r, echo = FALSE, out.width = "280px"}
knitr::include_graphics("img/file_structure.png")
```
]

---

```{css, echo = FALSE}
.deemph {
  color: #bebebe;
}
```


<h1 style='margin-bottom:0px'>Experiment file structure</h1>

.pull-left[

<strong style='color:#bebebe'>chunk_includes</strong>
- .deemph[Stand-alone files go here]

<strong style='color:#bebebe'>css_includes</strong>
- .deemph[Style specifications go here]

**data_includes**
- Experiment scripts go here

<strong style='color:#bebebe'>js_includes</strong>
- .deemph[Modules ("controllers") go here]

<strong style='color:#bebebe'>results</strong> .deemph[&] <strong style='color:#bebebe'>server_state</strong>
- .deemph[Automatically generated/updated]

]


.pull-right[
```{r, echo = FALSE, out.width = "280px"}
knitr::include_graphics("img/file_structure.png")
```
]


---

class: middle, center

# Scripting an experiment


---

# The script

Only need to modify **one file**: _example_data.js_


